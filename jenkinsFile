pipeline {
    agent { docker { image 'maven:3.3.3'}}
    stages {
           stage('load properties file..') {
                  steps {
                       script{
                             props = readProperties file:'pipeline.properties',
                             gitURL: props.gitUrl,
                             branch: props.branchName,
                             scan: props.buildSonarScan,
                             build: props.mavenClean
                             echo '${gitURL}'
                             echo '${branch}'
                             echo '${scan}'
                             echo '${build}'
                             echo 'load SUCCESS'
                            }
                       } 
                  }         
              stage('Git read') {
                      steps {
                           git url: ${gitURL},
              branch: ${branch}
                           echo 'Read success'
                        }
                }
             stage('Building Sonar...') {
              steps {
                sh ${scan}
                echo 'Sonar scan success'
                    }
                }
            stage('Build') { 
           steps {
               sh ${build}
               echo 'Maven Build success'
                 }  
            }
         }
    }
